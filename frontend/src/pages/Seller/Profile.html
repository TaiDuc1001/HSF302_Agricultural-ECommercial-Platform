<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div th:fragment="sellerProfile" class="flex flex-col items-center justify-center min-h-[60vh]">
        <h2 class="text-2xl font-bold mb-4">Manage Seller Profile</h2>
        <form id="profileForm" class="w-full max-w-xs space-y-4">
            <input
                class="w-full px-3 py-2 border rounded"
                type="text"
                id="businessName"
                placeholder="Business Name"
                value="Green Valley Co-op"
                required
            />
            <input
                class="w-full px-3 py-2 border rounded"
                type="text"
                id="address"
                placeholder="Business Address"
                required
            />
            <input
                class="w-full px-3 py-2 border rounded"
                type="tel"
                id="phone"
                placeholder="Phone Number"
                required
            />
            <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">Save Changes</button>
        </form>
    </div>

    <script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function() {
            const profileForm = document.getElementById('profileForm');
            const businessNameInput = document.getElementById('businessName');
            const addressInput = document.getElementById('address');
            const phoneInput = document.getElementById('phone');

            const sellerProfile = {
                businessName: 'Green Valley Co-op',
                address: '',
                phone: ''
            };

            function loadProfile() {
                businessNameInput.value = sellerProfile.businessName;
                addressInput.value = sellerProfile.address;
                phoneInput.value = sellerProfile.phone;
            }

            function saveProfile() {
                sellerProfile.businessName = businessNameInput.value;
                sellerProfile.address = addressInput.value;
                sellerProfile.phone = phoneInput.value;
                
                localStorage.setItem('sellerProfile', JSON.stringify(sellerProfile));
                alert('Profile updated!');
                
                window.location.href = '/profile';
            }

            profileForm.addEventListener('submit', function(e) {
                e.preventDefault();
                saveProfile();
            });

            loadProfile();
        });
    </script>
</body>
</html>
