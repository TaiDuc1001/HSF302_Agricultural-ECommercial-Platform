<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="checkList(options, selected, onChange, label, single)" class="checklist-component">
    <h3 th:if="${label != null and !#strings.isEmpty(label)}" 
        th:text="${label}" 
        class="font-semibold mb-2">
    </h3>
    
    <div th:each="option : ${options}">
        <label class="flex items-center mb-1 cursor-pointer">
            <input th:type="${single ? 'radio' : 'checkbox'}"
                   th:name="${label}"
                   th:value="${option.value}"
                   th:checked="${#lists.contains(selected, option.value)}"
                   th:onchange="${onChange + '(this.value)'}"
                   class="mr-2 accent-green-600" />
            <span th:text="${option.label}"></span>
        </label>
    </div>
</div>

</html>
