<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="searchBar(value, onChange, suggestions, onSuggestionClick, showDropdown, onFocus, onBlur, placeholder)" class="search-bar-component">
    <div class="w-full relative">
        <input type="text"
               th:value="${value}"
               th:onchange="${onChange}"
               th:oninput="${onChange}"
               th:onfocus="${onFocus}"
               th:onblur="${onBlur}"
               th:placeholder="${placeholder ?: 'Search...'}"
               class="w-full border border-gray-300 rounded-full py-2 px-5 pr-10 focus:outline-none focus:ring-2 focus:ring-green-400 shadow-sm" />
        
        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
            <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" />
                <path d="M20 20l-3.5-3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
        </span>
        
        <ul th:if="${showDropdown and suggestions != null and #lists.size(suggestions) > 0}" 
            class="absolute left-0 right-0 bg-white border border-gray-200 rounded shadow-lg mt-1 z-10">
            <li th:each="suggestion : ${suggestions}"
                th:text="${suggestion}"
                th:onmousedown="${onSuggestionClick + '(&quot;' + suggestion + '&quot;)'}"
                class="px-4 py-2 hover:bg-green-50 cursor-pointer">
            </li>
        </ul>
    </div>
</div>

</html>
